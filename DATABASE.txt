CREATE DATABASE Belote;

USE Belote;

CREATE TABLE Players (id INT PRIMARY KEY NOT NULL AUTO_INCREMENT, Nickname TEXT NOT NULL, Name TEXT, Surname TEXT, Password TEXT NOT NULL, Email TEXT, Phone TEXT, VK TEXT, FB TEXT, OK TEXT, Country TEXT NOT NULL, Address TEXT, ZipCode TEXT, Language TEXT NOT NULL, Sex BIT NOT NULL, TimeZone TEXT, BirthDate DATE, AvatarFile TEXT, VIPExperies DATETIME, USD INT NOT NULL, BUSD INT NOT NULL, Chips INT NOT NULL);
CREATE TABLE Statistics (id INT PRIMARY KEY NOT NULL AUTO_INCREMENT, GamesTotal INT NOT NULL, WinsCount INT NOT NULL, LosesCount INT NOT NULL, XP INT NOT NULL, Level INT NOT NULL, LastSeriesResult INT NOT NULL, AbandonedGames INT NOT NULL, GamesNotAllowed INT NOT NULL, TablesCreated INT NOT NULL, TablesCreatedNotPlayed INT NOT NULL, DistributionsTotal INT NOT NULL, DistributionsWithTrump INT NOT NULL, DistributionsAnnouncedWin INT NOT NULL, DistributionsWins INT NOT NULL, ContraAnnounced INT NOT NULL, ContraJustified INT NOT NULL, CapotAnnounced INT NOT NULL, CapotJustified INT NOT NULL);
CREATE TABLE Purchases (id INT PRIMARY KEY NOT NULL AUTO_INCREMENT, Name TEXT NOT NULL, Chips INT, VIPMonths INT, Duration DATETIME, VIPOnly BIT NOT NULL, CostUSD INT, CostBUSD INT, idPlayer INT);
CREATE TABLE Messages (id INT PRIMARY KEY NOT NULL AUTO_INCREMENT, idSender INT NOT NULL, idRecipient INT NOT NULL, MessageTime DATETIME NOT NULL, MessageText TEXT NOT NULL);
CREATE TABLE BlackLists (id INT PRIMARY KEY NOT NULL AUTO_INCREMENT, AddingPlayerId INT NOT NULL, AddedPlayerId INT NOT NULL, AddingDate DATE NOT NULL);
CREATE TABLE Friends (id INT PRIMARY KEY NOT NULL AUTO_INCREMENT, idInitiator INT NOT NULL, idInvitee INT NOT NULL, Status BIT NOT NULL);
CREATE TABLE Invitations (id INT PRIMARY KEY NOT NULL AUTO_INCREMENT, InvitingId INT NOT NULL, InviteeEmail TEXT NOT NULL, InvitingDate DATE NOT NULL);
CREATE TABLE ActionTypes (id INT PRIMARY KEY NOT NULL AUTO_INCREMENT, AboutAction TEXT NOT NULL, Parameter1Means TEXT, Parameter2Means TEXT);
CREATE TABLE PlayersActions (id INT PRIMARY KEY NOT NULL AUTO_INCREMENT, idPlayer INT NOT NULL, idActionType INT NOT NULL, Parameter1 TEXT, Parameter2 TEXT, ActionDateTime DATETIME NOT NULL);
CREATE TABLE BonusTypes (id INT PRIMARY KEY NOT NULL AUTO_INCREMENT, AboutBonus TEXT NOT NULL, AwardSize INT NOT NULL, idPlayer INT);
CREATE TABLE Transactions (id INT PRIMARY KEY NOT NULL AUTO_INCREMENT, idPlayer INT NOT NULL, AccountType INT NOT NULL, TransactionType INT NOT NULL, TransactionSize INT NOT NULL, TransactionDateTime DATETIME NOT NULL, Source TEXT);
CREATE TABLE Tables (id INT PRIMARY KEY NOT NULL AUTO_INCREMENT, TableCreatorId INT NOT NULL, Player2Id INT, Player3Id INT, Player4Id INT, Bet INT NOT NULL, PlayersVisibility BIT NOT NULL, Chat BIT NOT NULL, MinimalLevel INT NOT NULL, TableVisibility BIT NOT NULL, VIPOnly BIT NOT NULL, Moderation BIT NOT NULL, AI BIT NOT NULL);
CREATE TABLE History (id INT PRIMARY KEY NOT NULL AUTO_INCREMENT, idTable INT NOT NULL, idPlayer INT NOT NULL, DistibutionNumber INT NOT NULL, ActionType INT NOT NULL, Value TEXT NOT NULL);
